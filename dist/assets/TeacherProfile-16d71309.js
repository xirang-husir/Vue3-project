import{_ as Y}from"./_plugin-vue_export-helper-d0c954b5.js";import{v as Z}from"./el-card-f7fee01d.js";import{u as ee,E as le,a as ae,b as te,c as oe,d as ue}from"./el-table-column-370b5b9a.js";import{a as ne,E as de,b as se}from"./el-form-item-06b0de6d.js";import"./el-tooltip-c05a56e8.js";import{E as re}from"./el-progress-874c3caa.js";/* empty css                */import{E as ie,a as me}from"./el-radio-f3863e52.js";import{P as pe}from"./PageContainer-68ebf2e1.js";import{a as ce,E as ve}from"./el-col-9a6b8722.js";import{E as _e}from"./el-button-c351e2b8.js";import{aN as fe,c as w,p as _,t as ge,v as be,o as V,a as T,x as e,w as l,B as d,f as p,a3 as Ve,A as m,a7 as ye,e as D,J as s,aS as Ee,g as he,D as y,E as Ce}from"./index-40acc06f.js";/* empty css                   */import"./error-de6436bb.js";import"./isEqual-afb51c7a.js";const Te=["src"],xe=["src"],Ue={class:"page-pagination"},ke={__name:"TeacherProfile",setup(Ne){const f=fe();console.log(f,"teacherStore");const z=w(()=>f.getLocalTeacherList()),E=_(""),x=w(()=>z.value.filter(n=>Object.values(n).some(t=>String(t).toLowerCase().includes(E.value.toLowerCase())))),U=_(!0);ge(()=>{setTimeout(()=>{U.value=!1},750)});const{pagination:g,paginatedData:J,pageCount:L}=ee(x,8);be(x,()=>{g.value.currentPage=1});const S=n=>{console.log(n.employeeId),f.deleteTeacher(n.employeeId),y({message:"删除成功",type:"success"})},b=_("新增教师"),c=_(!1),a=_({name:"",employeeId:"",username:"",email:"",phoneNumber:"",title:"",isJudge:"",school:"",college:"",idType:"",idNumber:"",avatar:""}),B=n=>{console.log(n),b.value="编辑教师",c.value=!0,a.value=n},h=n=>{n(),c.value=!1},R=()=>{console.log(a.value),b.value=="新增教师"?f.addTeacher(a.value)?y({message:"新增成功",type:"success"}):y({message:"新增失败",type:"error"}):(f.editTeacher(a.value),y({message:"编辑成功",type:"success"})),c.value=!1},F=()=>{c.value=!0,b.value="新增教师",a.value={name:"",employeeId:"",username:"",email:"",phoneNumber:"",title:"",isJudge:"",school:"",college:"",idType:"",idNumber:"",avatar:""}},j=n=>{const t=new FileReader;t.readAsDataURL(n.raw),t.onload=()=>{a.value.avatar=t.result,console.log(a.value.avatar)}},C=_(!1),$=n=>{console.log(n),C.value=!0,a.value=n};return(n,t)=>{const r=ne,v=_e,A=ce,M=ve,i=te,G=oe,O=ue,Q=pe,u=de,k=ie,q=me,H=Ce,K=re,N=se,I=le,W=ae,X=Z;return V(),T(Ve,null,[e(Q,{title:"教师信息"},{extra:l(()=>[e(M,{type:"flex",align:"middle",justify:"end"},{default:l(()=>[e(A,{span:24,style:{display:"flex","justify-content":"flex-end","align-items":"center"}},{default:l(()=>[e(r,{"prefix-icon":"el-icon-search",modelValue:E.value,"onUpdate:modelValue":t[0]||(t[0]=o=>E.value=o),placeholder:"搜索...",style:{"margin-right":"750px"}},null,8,["modelValue"]),e(v,{type:"primary",size:"middle",style:{"margin-right":"80px"},onClick:F},{default:l(()=>[m("新增教师")]),_:1})]),_:1})]),_:1})]),default:l(()=>[ye((V(),D(O,{style:{width:"100%"},data:p(J)},{empty:l(()=>[e(G,{description:"这里暂时空空如也"})]),default:l(()=>[e(i,{prop:"name",label:"姓名",align:"center"}),e(i,{prop:"employeeId",label:"工号",align:"center"}),e(i,{prop:"username",label:"用户名",align:"center"}),e(i,{prop:"email",label:"邮箱",align:"center"}),e(i,{prop:"phoneNumber",label:"电话",align:"center"}),e(i,{prop:"title",label:"职称",align:"center"}),e(i,{prop:"isJudge",label:"是否为评委",align:"center"},{default:l(({row:o})=>[d("span",null,s(o.isJudge?"是":"否"),1)]),_:1}),e(i,{label:"操作",width:"260"},{default:l(({row:o})=>[e(v,{type:"primary",size:"small",onClick:P=>$(o)},{default:l(()=>[m("详情")]),_:2},1032,["onClick"]),e(v,{size:"small",onClick:P=>B(o)},{default:l(()=>[m("编辑")]),_:2},1032,["onClick"]),e(v,{size:"small",type:"danger",onClick:P=>S(o)},{default:l(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[X,U.value]])]),_:1}),e(I,{modelValue:c.value,"onUpdate:modelValue":t[12]||(t[12]=o=>c.value=o),title:b.value,"before-close":h,width:"800px"},{footer:l(()=>[e(v,{onClick:h},{default:l(()=>[m("取消")]),_:1}),e(v,{type:"primary",onClick:R},{default:l(()=>[m("提交")]),_:1})]),default:l(()=>[e(N,{model:a.value},{default:l(()=>[e(u,{label:"姓名"},{default:l(()=>[e(r,{modelValue:a.value.name,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.name=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"工号"},{default:l(()=>[e(r,{modelValue:a.value.employeeId,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.employeeId=o),disabled:b.value=="编辑教师"},null,8,["modelValue","disabled"])]),_:1}),e(u,{label:"用户名"},{default:l(()=>[e(r,{modelValue:a.value.username,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value.username=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"邮箱"},{default:l(()=>[e(r,{modelValue:a.value.email,"onUpdate:modelValue":t[4]||(t[4]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"电话"},{default:l(()=>[e(r,{modelValue:a.value.phoneNumber,"onUpdate:modelValue":t[5]||(t[5]=o=>a.value.phoneNumber=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"职称"},{default:l(()=>[e(r,{modelValue:a.value.title,"onUpdate:modelValue":t[6]||(t[6]=o=>a.value.title=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"是否为评委"},{default:l(()=>[e(q,{modelValue:a.value.isJudge,"onUpdate:modelValue":t[7]||(t[7]=o=>a.value.isJudge=o)},{default:l(()=>[e(k,{label:1},{default:l(()=>[m("是")]),_:1}),e(k,{label:0},{default:l(()=>[m("否")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"学校"},{default:l(()=>[e(r,{modelValue:a.value.school,"onUpdate:modelValue":t[8]||(t[8]=o=>a.value.school=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"学院"},{default:l(()=>[e(r,{modelValue:a.value.college,"onUpdate:modelValue":t[9]||(t[9]=o=>a.value.college=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"证件类型"},{default:l(()=>[e(r,{modelValue:a.value.idType,"onUpdate:modelValue":t[10]||(t[10]=o=>a.value.idType=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"证件号码"},{default:l(()=>[e(r,{modelValue:a.value.idNumber,"onUpdate:modelValue":t[11]||(t[11]=o=>a.value.idNumber=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"照片"},{default:l(()=>[e(K,{class:"avatar-uploader",action:"#",limit:1,"show-file-list":!1,"on-change":j},{default:l(()=>[a.value.avatar?(V(),T("img",{key:0,src:a.value.avatar,class:"avatar"},null,8,Te)):(V(),D(H,{key:1,class:"avatar-uploader-icon"},{default:l(()=>[e(p(Ee))]),_:1}))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(I,{modelValue:C.value,"onUpdate:modelValue":t[13]||(t[13]=o=>C.value=o),title:"教师详情","before-close":h,width:"800px"},{default:l(()=>[e(N,null,{default:l(()=>[e(u,{label:"姓名"},{default:l(()=>[d("div",null,s(a.value.name),1)]),_:1}),e(u,{label:"工号"},{default:l(()=>[d("div",null,s(a.value.employeeId),1)]),_:1}),e(u,{label:"用户名"},{default:l(()=>[d("div",null,s(a.value.username),1)]),_:1}),e(u,{label:"邮箱"},{default:l(()=>[d("div",null,s(a.value.email),1)]),_:1}),e(u,{label:"电话"},{default:l(()=>[d("div",null,s(a.value.phoneNumber),1)]),_:1}),e(u,{label:"职称"},{default:l(()=>[d("div",null,s(a.value.title),1)]),_:1}),e(u,{label:"是否为评委"},{default:l(()=>[d("div",null,s(a.value.isJudge?"是":"否"),1)]),_:1}),e(u,{label:"学校"},{default:l(()=>[d("div",null,s(a.value.school),1)]),_:1}),e(u,{label:"学院"},{default:l(()=>[d("div",null,s(a.value.college),1)]),_:1}),e(u,{label:"证件类型"},{default:l(()=>[d("div",null,s(a.value.idType),1)]),_:1}),e(u,{label:"证件号码"},{default:l(()=>[d("div",null,s(a.value.idNumber),1)]),_:1}),e(u,{label:"照片"},{default:l(()=>[a.value.avatar?(V(),T("img",{key:0,style:{width:"100px",height:"100px"},src:a.value.avatar,class:"avatar"},null,8,xe)):he("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),d("div",Ue,[e(W,{background:"",layout:"prev, pager, next",total:p(L)*p(g).pageSize,"current-page":p(g).currentPage,"onUpdate:currentPage":t[14]||(t[14]=o=>p(g).currentPage=o),"page-size":p(g).pageSize,onCurrentChange:n.handleCurrentChange},null,8,["total","current-page","page-size","onCurrentChange"])])],64)}}},Ge=Y(ke,[["__scopeId","data-v-f1e8a12d"]]);export{Ge as default};
