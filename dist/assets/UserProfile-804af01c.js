import"./_plugin-vue_export-helper-d0c954b5.js";import{v as k}from"./el-card-f7fee01d.js";import{a as U,E as x,b as y}from"./el-form-item-06b0de6d.js";import{E}from"./el-button-c351e2b8.js";import{P as w}from"./PageContainer-68ebf2e1.js";import{p as s,t as P,q,a7 as B,o as C,e as F,w as l,x as e,A as I,bO as S,D}from"./index-40acc06f.js";/* empty css                   */import"./error-de6436bb.js";const H={__name:"UserProfile",setup(M){const n=s(!0);P(()=>{setTimeout(()=>{n.value=!1},750)});const m=s(),{user:{email:i,id:d,nickname:p,username:_},getUser:c}=q(),a=s({id:d,username:_,nickname:p,email:i}),f=s({nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}/,message:"昵称长度在2-10个非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]}),g=async()=>{await m.value.validate(),await S(a.value),c(),D.success("修改成功")};return(N,t)=>{const u=U,r=x,v=E,b=y,V=k;return B((C(),F(w,{title:"管理员基本资料"},{default:l(()=>[e(b,{ref_key:"formRef",ref:m,model:a.value,rules:f.value,"label-width":"100px"},{default:l(()=>[e(r,{label:"登录名称"},{default:l(()=>[e(u,{modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(u,{modelValue:a.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(u,{modelValue:a.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(v,{type:"primary",onClick:g},{default:l(()=>[I("提交修改")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})),[[V,n.value]])}}};export{H as default};
