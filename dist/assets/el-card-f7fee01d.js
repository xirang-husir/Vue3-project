import{b as D,M as Y,d as S,u as M,o as x,a as w,n as y,f as g,h as k,A as $,J as A,g as B,B as Z,P as q,_ as F,j as G,p as E,a6 as H,ca as J,aD as K,aB as U,ar as b,w as Q,a7 as W,x as X,aa as ee,Y as te,ao as h,Z as se,U as T,N as P,bA as p,an as N,av as z,aY as ae,cb as oe}from"./index-40acc06f.js";const le=D({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Y([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),ne=S({name:"ElCard"}),re=S({...ne,props:le,setup(s){const e=M("card");return(t,a)=>(x(),w("div",{class:y([g(e).b(),g(e).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?(x(),w("div",{key:0,class:y(g(e).e("header"))},[k(t.$slots,"header",{},()=>[$(A(t.header),1)])],2)):B("v-if",!0),Z("div",{class:y([g(e).e("body"),t.bodyClass]),style:q(t.bodyStyle)},[k(t.$slots,"default")],6),t.$slots.footer||t.footer?(x(),w("div",{key:1,class:y(g(e).e("footer"))},[k(t.$slots,"footer",{},()=>[$(A(t.footer),1)])],2)):B("v-if",!0)],2))}});var ie=F(re,[["__file","card.vue"]]);const ge=G(ie);function de(s){let e;const t=E(!1),a=H({...s,originalPosition:"",originalOverflow:"",visible:!1});function n(o){a.text=o}function l(){const o=a.parent,r=u.ns;if(!o.vLoadingAddClassList){let d=o.getAttribute("loading-number");d=Number.parseInt(d)-1,d?o.setAttribute("loading-number",d.toString()):(h(o,r.bm("parent","relative")),o.removeAttribute("loading-number")),h(o,r.bm("parent","hidden"))}i(),m.unmount()}function i(){var o,r;(r=(o=u.$el)==null?void 0:o.parentNode)==null||r.removeChild(u.$el)}function v(){var o;s.beforeClose&&!s.beforeClose()||(t.value=!0,clearTimeout(e),e=window.setTimeout(f,400),a.visible=!1,(o=s.closed)==null||o.call(s))}function f(){if(!t.value)return;const o=a.parent;t.value=!1,o.vLoadingAddClassList=void 0,l()}const c=S({name:"ElLoading",setup(o,{expose:r}){const{ns:d,zIndex:O}=U("loading");return r({ns:d,zIndex:O}),()=>{const _=a.spinner||a.svg,j=b("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"0 0 50 50",..._?{innerHTML:_}:{}},[b("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),R=a.text?b("p",{class:d.b("text")},[a.text]):void 0;return b(te,{name:d.b("fade"),onAfterLeave:f},{default:Q(()=>[W(X("div",{style:{backgroundColor:a.background||""},class:[d.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[b("div",{class:d.b("spinner")},[j,R])]),[[ee,a.visible]])])})}}}),m=J(c),u=m.mount(document.createElement("div"));return{...K(a),setText:n,removeElLoadingChild:i,close:v,handleAfterLeave:f,vm:u,get $el(){return u.$el}}}let C;const ce=function(s={}){if(!se)return;const e=ue(s);if(e.fullscreen&&C)return C;const t=de({...e,closed:()=>{var n;(n=e.closed)==null||n.call(e),e.fullscreen&&(C=void 0)}});ve(e,e.parent,t),I(e,e.parent,t),e.parent.vLoadingAddClassList=()=>I(e,e.parent,t);let a=e.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",e.parent.setAttribute("loading-number",a),e.parent.appendChild(t.$el),T(()=>t.visible.value=e.visible),e.fullscreen&&(C=t),t},ue=s=>{var e,t,a,n;let l;return P(s.target)?l=(e=document.querySelector(s.target))!=null?e:document.body:l=s.target||document.body,{parent:l===document.body||s.body?document.body:l,background:s.background||"",svg:s.svg||"",svgViewBox:s.svgViewBox||"",spinner:s.spinner||!1,text:s.text||"",fullscreen:l===document.body&&((t=s.fullscreen)!=null?t:!0),lock:(a=s.lock)!=null?a:!1,customClass:s.customClass||"",visible:(n=s.visible)!=null?n:!0,target:l}},ve=async(s,e,t)=>{const{nextZIndex:a}=t.vm.zIndex||t.vm._.exposed.zIndex,n={};if(s.fullscreen)t.originalPosition.value=p(document.body,"position"),t.originalOverflow.value=p(document.body,"overflow"),n.zIndex=a();else if(s.parent===document.body){t.originalPosition.value=p(document.body,"position"),await T();for(const l of["top","left"]){const i=l==="top"?"scrollTop":"scrollLeft";n[l]=`${s.target.getBoundingClientRect()[l]+document.body[i]+document.documentElement[i]-Number.parseInt(p(document.body,`margin-${l}`),10)}px`}for(const l of["height","width"])n[l]=`${s.target.getBoundingClientRect()[l]}px`}else t.originalPosition.value=p(e,"position");for(const[l,i]of Object.entries(n))t.$el.style[l]=i},I=(s,e,t)=>{const a=t.vm.ns||t.vm._.exposed.ns;["absolute","fixed","sticky"].includes(t.originalPosition.value)?h(e,a.bm("parent","relative")):N(e,a.bm("parent","relative")),s.fullscreen&&s.lock?N(e,a.bm("parent","hidden")):h(e,a.bm("parent","hidden"))},L=Symbol("ElLoading"),V=(s,e)=>{var t,a,n,l;const i=e.instance,v=o=>z(e.value)?e.value[o]:void 0,f=o=>{const r=P(o)&&(i==null?void 0:i[o])||o;return r&&E(r)},c=o=>f(v(o)||s.getAttribute(`element-loading-${oe(o)}`)),m=(t=v("fullscreen"))!=null?t:e.modifiers.fullscreen,u={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:m,target:(a=v("target"))!=null?a:m?void 0:s,body:(n=v("body"))!=null?n:e.modifiers.body,lock:(l=v("lock"))!=null?l:e.modifiers.lock};s[L]={options:u,instance:ce(u)}},fe=(s,e)=>{for(const t of Object.keys(e))ae(e[t])&&(e[t].value=s[t])},be={mounted(s,e){e.value&&V(s,e)},updated(s,e){const t=s[L];e.oldValue!==e.value&&(e.value&&!e.oldValue?V(s,e):e.value&&e.oldValue?z(e.value)&&fe(e.value,t.options):t==null||t.instance.close())},unmounted(s){var e;(e=s[L])==null||e.instance.close()}};export{ge as E,be as v};
