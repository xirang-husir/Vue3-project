import{_ as w}from"./_plugin-vue_export-helper-d0c954b5.js";import{v as E}from"./el-card-f7fee01d.js";import{P as S}from"./PageContainer-68ebf2e1.js";import{E as h}from"./el-button-c351e2b8.js";import{E as A}from"./el-progress-874c3caa.js";/* empty css                */import{q as B,p as c,t as P,ad as x,a7 as C,o as l,e as _,w as o,x as r,a as I,A as d,bP as R,D as b,E as D,G as N,H as V,B as q}from"./index-40acc06f.js";/* empty css                   */import"./error-de6436bb.js";import"./isEqual-afb51c7a.js";const z=t=>(N("data-v-c19a6c77"),t=t(),V(),t),F=["src"],L=z(()=>q("br",null,null,-1)),M={__name:"UserAvatar",setup(t){const n=B(),a=c(n.user.user_pic),i=c(),m=s=>{const e=new FileReader;e.readAsDataURL(s.raw),e.onload=()=>{a.value=e.result,console.log(a.value)}},v=async()=>{await R(a.value),await n.getUser(),b.success("头像更新成功")},p=c(!0);return P(()=>{setTimeout(()=>{p.value=!1},750)}),(s,e)=>{const f=x("Plus"),g=D,U=A,u=h,y=S,k=E;return C((l(),_(y,{title:"更换头像"},{default:o(()=>[r(U,{ref_key:"uploadRef",ref:i,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":m},{default:o(()=>[a.value?(l(),I("img",{key:0,src:a.value,class:"avatar"},null,8,F)):(l(),_(g,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[r(f)]),_:1}))]),_:1},512),L,r(u,{onClick:e[0]||(e[0]=T=>i.value.$el.querySelector("input").click()),type:"primary",icon:s.Plus,size:"large"},{default:o(()=>[d("选择图片")]),_:1},8,["icon"]),r(u,{onClick:v,type:"success",icon:s.Upload,size:"large"},{default:o(()=>[d("上传头像")]),_:1},8,["icon"])]),_:1})),[[k,p.value]])}}},Y=w(M,[["__scopeId","data-v-c19a6c77"]]);export{Y as default};
